---
title: if-else原来可以这样用!
tags: JK
excerpt: if-else要上天啊
---
> 哈喽，大家好，我是程小南，导航搬砖工一名，致力于为大家淘出更多有趣好使的生产力工具！



 小南最近接手了一个新项目。

发现了一有趣的事情。

同时，也给小南上了一课。

程序还得会玩啊！！！

由于具体业务不方便透露。

小南自己想了一个场景需求。

同一个产品，如何给到不同群体不同的优惠方式。

### if-else

```java
 if ("群体A".equals(type)) {
     //优惠方式1优惠逻辑
 } else if ("群体B".equals(type)) {
     //优惠方式3优惠逻辑
 } else if ("群体C".equals(type)) {
     //优惠方式3优惠逻辑
 } else {
     logger.info("找不到对应的优惠类型");
 }
```

### switch

```java
 switch (type) {
     case "群体A":
         //优惠方式1优惠逻辑
         break;
     case "群体B":
         //优惠方式2优惠逻辑
         break;
     case "群体C":
         //优惠方式3优惠逻辑
         break;
     default:
         logger.info("找不到对应的优惠类型");
         break;
 }
```

以上两种是在开发过程中比较常用的，适用于代码量小，逻辑简单。一旦代码长度偏长，逻辑复杂时，闭眼都能想象，满篇幅的if-else。一个是影响了可读性，另一个改起来也特别费劲，生怕动一某个变量影响整个代码块的逻辑。可维护性低。

### 策略模式

![](https://navtool.gitee.io/blog/assets/imgs/20221023/1.png)



![](https://navtool.gitee.io/blog/assets/imgs/20221023/2.png)

策略模式在这里简单理解就是把 if语句里面的逻辑或switch语句中case里面的逻辑抽取出来，把它放到一个策略类中。这样每个判断都改成了一个类，需要修改的时候只要改对应的类，不用担心影响到其它的类的实现逻辑，方便维护。对于简单的逻辑其实没必要搞得这么复杂，ifl-else几行代码就能解决。可以看出一旦策略类多了，也很麻烦。

### 函数式接口

![1](https://navtool.gitee.io/blog/assets/imgs/20221023/3.png)

![1](https://navtool.gitee.io/blog/assets/imgs/20221023/4.png)

![1](https://navtool.gitee.io/blog/assets/imgs/20221023/5.png)

函数式接口相对而言就比较折中，既不要担心if-else中，改动造成其它逻辑影响，代码也不集中在一起，也会想策略模式中存在很多类文件。比较麻烦的是用了lambda表达式，jdk版本会影响，团队中也可能有些小伙伴不会。

在实际使用的过程中在函数式方法中业务逻辑复杂时，也就是if语句块业务复杂。常常把这部分抽取除独立的业务Service。也常配合好策略类一起用。

总之，以上的每个方法行，都有一定的优缺点，if-else都能让人玩出花来，程序员要努力！

### 好消息

时隔2个月，摸鱼群再次限时开放了。

![](https://navtool.gitee.io/blog/assets/imgs/20221027/111.jpg)

程序员指南读者交流群（摸鱼、白嫖技术课程为主），又不定时开放了，感兴趣的朋友，下方公号内回复：`666`。

![](https://navtool.gitee.io/blog/assets/imgs/erweima.jpg)

>  我是程小南,感谢各位童鞋的：点赞、收藏和在看，我们下期更精彩！
